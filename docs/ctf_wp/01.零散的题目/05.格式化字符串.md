---
title: 格式化字符串
date: 2020-07-12 21:50:26
permalink: /pages/cbf5e0/
categories: 
  - ctf_wp
  - 零散的题目
tags: 
  - 
---
# 格式化字符串

可以配合知识库中的对应查看，

主要是师傅给的pwn学习任务，

## jarvis oj fm 

先查看，没有啥保护， 然后代码就是检测x是否等于4, 则直接给shell，然后非常明显的格式化字符串漏洞，

![](https://i.loli.net/2020/07/12/s7kai4DyqTrpY2K.png)

然后看到这个x的位置， `.data:0804A02C` ，
![](https://i.loli.net/2020/07/12/cOdDsuzfjrUIW89.png)

于是利用格式化字符串漏洞改掉对应的值就好了，
使用 `%xx$n` ， 但是看到栈中并没有对应的指针，我们要自己输入进去这个指针， exp：

``` python
tar = 0x0804A02C
payload = flat(tar, '%11$n')
sl(payload)
```

过程中的栈空间：
![](https://i.loli.net/2020/07/12/ZAP9naExbrVovI4.png)

## hgame19 week2 fmt

asdf

## csaw15 contacts

