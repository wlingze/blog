(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{533:function(t,e,s){"use strict";s.r(e);var a=s(31),r=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"linux-kernel-source-code-analysis-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux-kernel-source-code-analysis-1"}},[t._v("#")]),t._v(" linux kernel source code analysis 1")]),t._v(" "),s("h1",{attrs:{id:"boot-part"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#boot-part"}},[t._v("#")]),t._v(" boot  part")]),t._v(" "),s("p",[t._v("the corresponding file is in the "),s("code",[t._v("src/boot/")]),t._v(" directory,")]),t._v(" "),s("p",[t._v("these are three assembly file,")]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("bootsect.s and setup.s use 16-bit assembly syntax in real mode.")]),t._v(" "),s("p",[t._v("head.s uses 32-bit protected mode assembly syntax.")]),t._v(" "),s("h1",{attrs:{id:"pre-knowledge"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pre-knowledge"}},[t._v("#")]),t._v(" pre-knowledge")]),t._v(" "),s("h2",{attrs:{id:"bios"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bios"}},[t._v("#")]),t._v(" bios")]),t._v(" "),s("blockquote",[s("p",[t._v("what happened after power up ?")]),t._v(" "),s("p",[t._v("bios satrts and runs, and switches to bootseect")])]),t._v(" "),s("p",[t._v("when the PC power is turned on, the cup under the 80-x86 architecture, automatically enters real mode, and automatically execute from 0xffff0,")]),t._v(" "),s("p",[t._v("this address is usually the address of rom-bios, bios will perform system decection, and initialize the interrupt vector from physical address 0,")]),t._v(" "),s("p",[t._v("after that, the first sector (boot sector) of the device will be started, read into the memory at 0x7c00, and jump to this place.")]),t._v(" "),s("blockquote",[s("p",[t._v("so enter the code of the boot part below.")])]),t._v(" "),s("h2",{attrs:{id:"summary"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#summary"}},[t._v("#")]),t._v(" summary")]),t._v(" "),s("p",[t._v("in fact, what bootloader does is simply move the kernel module, set the hardware informantion and the new interrupt vector, and enter the 32-bit protection mode.")]),t._v(" "),s("p",[s("strong",[t._v("p1")]),t._v(" the system is powered on to start the operation process:\n"),s("img",{attrs:{src:"https://i.loli.net/2021/01/25/IKm7ZWwxc6H1rFJ.png",alt:"the system is powered on to start the operation process"}}),t._v(" "),s("strong",[t._v("p2")]),t._v(" the kernel's position is memory changes when booting:\n"),s("img",{attrs:{src:"https://i.loli.net/2021/01/25/kE5GSmvZ91LAPBD.png",alt:"the kernel's position is memory changes when booting"}})]),t._v(" "),s("h1",{attrs:{id:"bootsect"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bootsect"}},[t._v("#")]),t._v(" bootsect")]),t._v(" "),s("p",[t._v("code move")]),t._v(" "),s("h1",{attrs:{id:"setup"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setup"}},[t._v("#")]),t._v(" setup")]),t._v(" "),s("p",[t._v("get hardware informantion")]),t._v(" "),s("h1",{attrs:{id:"head"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#head"}},[t._v("#")]),t._v(" head")])])}),[],!1,null,null,null);e.default=r.exports}}]);